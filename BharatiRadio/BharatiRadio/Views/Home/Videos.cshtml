@* 1. CONNECT TO DATA *@
@model IEnumerable<BharatiRadio.Models.Program>

@{
    ViewBag.Title = "Videos";
    Layout = "~/Views/Shared/Layout.cshtml";
}

<style>
    .video-card {
        display: none; /* Hidden by default */
    }
</style>




    <div class="page-header">
        <h1>Videos</h1>
    </div>

    <div class="video-grid">

        @if (Model != null)
        {
            foreach (var video in Model)
            {
                <div class="video-card">
                    <div class="video-frame">
                        <iframe src="@video.link" title="@video.title" allowfullscreen></iframe>
                    </div>
                    <div class="card-content">
                        <h3>@video.title</h3>
                        <p>@video.description</p>
                    </div>
                </div>
            }
        }
        else
        {
            <p style="text-align:center;">No videos found.</p>
        }

    </div>

    <button class="more-btn">Load More</button>

@*----------------------js for videos-------------------------------*@

    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script>
        $(document).ready(function () {
            // Step A: Show the first 6 videos immediately
            $(".video-card").slice(0, 6).show();

            // Step B: When button is clicked
            $(".more-btn").on("click", function (e) {
                e.preventDefault();

                // Show the next 3 hidden videos
                $(".video-card:hidden").slice(0, 3).slideDown();

                // If no hidden videos are left, hide the button
                if ($(".video-card:hidden").length == 0) {
                    $(".more-btn").fadeOut('slow');
                }
            });
        });
    </script>
